{"ast":null,"code":"// src/pages/Home.jsx\nimport{useState,useEffect}from'react';import axios from'../api/axios';import GameForm from'../components/GameForm';import GameList from'../components/GameList';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Home=()=>{// ================================\n// State Variables\n// ================================\nconst[games,setGames]=useState([]);// All games list\nconst[selectedGame,setSelectedGame]=useState(null);// Game selected for editing\nconst[searchTerm,setSearchTerm]=useState('');// Search input value\nconst[foundGames,setFoundGames]=useState([]);// Search results\nconst[searchError,setSearchError]=useState('');// Error message for search\n// ================================\n// Fetch all games from backend\n// ================================\nconst fetchGames=async()=>{try{const res=await axios.get('/games');setGames(res.data);}catch(err){console.error('Error fetching games:',err);}};// ================================\n// Search game(s) by name\n// ================================\nconst handleSearch=async()=>{if(!searchTerm.trim())return;try{const res=await axios.get(`/games/search?name=${searchTerm}`);if(res.data.length>0){setFoundGames(res.data);setSearchError('');}else{setFoundGames([]);setSearchError('Game not found');}}catch(err){setFoundGames([]);setSearchError('Error searching for games');}};// ================================\n// Reset search inputs and results\n// ================================\nconst handleResetSearch=()=>{setSearchTerm('');setFoundGames([]);setSearchError('');};// ================================\n// Fetch all games on initial render\n// ================================\nuseEffect(()=>{fetchGames();},[]);// ================================\n// Render Component\n// ================================\nreturn/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Game CRUD App\"}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1rem'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search by name...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSearch,children:\"Search\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleResetSearch,children:\"Reset\"})]}),searchError&&/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:searchError}),foundGames.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{border:'1px solid #ccc',padding:'1rem',marginBottom:'1rem'},children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Search Results (\",foundGames.length,\" found):\"]}),/*#__PURE__*/_jsx(\"ul\",{children:foundGames.map(game=>/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:game.name}),\" by \",game.author,' ',\"(\",/*#__PURE__*/_jsxs(\"strong\",{children:[\"ID: \",game._id]}),\")\",' ',\"\\u2013 \",/*#__PURE__*/_jsx(\"a\",{href:game.url,target:\"_blank\",rel:\"noreferrer\",children:\"Visit\"})]})},game._id))})]}),/*#__PURE__*/_jsx(GameForm,{fetchGames:fetchGames,selectedGame:selectedGame,setSelectedGame:setSelectedGame}),/*#__PURE__*/_jsx(GameList,{games:games,fetchGames:fetchGames,setSelectedGame:setSelectedGame})]});};export default Home;","map":{"version":3,"names":["useState","useEffect","axios","GameForm","GameList","jsx","_jsx","jsxs","_jsxs","Home","games","setGames","selectedGame","setSelectedGame","searchTerm","setSearchTerm","foundGames","setFoundGames","searchError","setSearchError","fetchGames","res","get","data","err","console","error","handleSearch","trim","length","handleResetSearch","children","style","marginBottom","type","placeholder","value","onChange","e","target","onClick","color","border","padding","map","game","name","author","_id","href","url","rel"],"sources":["D:/MCA/TimePass-Games-LogBook/frontend/src/pages/Home.jsx"],"sourcesContent":["// src/pages/Home.jsx\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport axios from '../api/axios';\r\nimport GameForm from '../components/GameForm';\r\nimport GameList from '../components/GameList';\r\n\r\nconst Home = () => {\r\n  // ================================\r\n  // State Variables\r\n  // ================================\r\n  const [games, setGames] = useState([]);                  // All games list\r\n  const [selectedGame, setSelectedGame] = useState(null);  // Game selected for editing\r\n  const [searchTerm, setSearchTerm] = useState('');        // Search input value\r\n  const [foundGames, setFoundGames] = useState([]);        // Search results\r\n  const [searchError, setSearchError] = useState('');      // Error message for search\r\n\r\n  // ================================\r\n  // Fetch all games from backend\r\n  // ================================\r\n  const fetchGames = async () => {\r\n    try {\r\n      const res = await axios.get('/games');\r\n      setGames(res.data);\r\n    } catch (err) {\r\n      console.error('Error fetching games:', err);\r\n    }\r\n  };\r\n\r\n  // ================================\r\n  // Search game(s) by name\r\n  // ================================\r\n  const handleSearch = async () => {\r\n    if (!searchTerm.trim()) return;\r\n\r\n    try {\r\n      const res = await axios.get(`/games/search?name=${searchTerm}`);\r\n      if (res.data.length > 0) {\r\n        setFoundGames(res.data);\r\n        setSearchError('');\r\n      } else {\r\n        setFoundGames([]);\r\n        setSearchError('Game not found');\r\n      }\r\n    } catch (err) {\r\n      setFoundGames([]);\r\n      setSearchError('Error searching for games');\r\n    }\r\n  };\r\n\r\n  // ================================\r\n  // Reset search inputs and results\r\n  // ================================\r\n  const handleResetSearch = () => {\r\n    setSearchTerm('');\r\n    setFoundGames([]);\r\n    setSearchError('');\r\n  };\r\n\r\n  // ================================\r\n  // Fetch all games on initial render\r\n  // ================================\r\n  useEffect(() => {\r\n    fetchGames();\r\n  }, []);\r\n\r\n  // ================================\r\n  // Render Component\r\n  // ================================\r\n  return (\r\n    <div>\r\n      <h1>Game CRUD App</h1>\r\n\r\n      {/* Search Input & Buttons */}\r\n      <div style={{ marginBottom: '1rem' }}>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Search by name...\"\r\n          value={searchTerm}\r\n          onChange={(e) => setSearchTerm(e.target.value)}\r\n        />\r\n        <button onClick={handleSearch}>Search</button>\r\n        <button onClick={handleResetSearch}>Reset</button>\r\n      </div>\r\n\r\n      {/* Display Search Error */}\r\n      {searchError && (\r\n        <p style={{ color: 'red' }}>{searchError}</p>\r\n      )}\r\n\r\n      {/* Search Results */}\r\n      {foundGames.length > 0 && (\r\n        <div style={{ border: '1px solid #ccc', padding: '1rem', marginBottom: '1rem' }}>\r\n          <h3>Search Results ({foundGames.length} found):</h3>\r\n          <ul>\r\n            {foundGames.map((game) => (\r\n              <li key={game._id}>\r\n                <p>\r\n                  <strong>{game.name}</strong> by {game.author} \r\n                  {' '}(<strong>ID: {game._id}</strong>)\r\n                  {' '}â€“ <a href={game.url} target=\"_blank\" rel=\"noreferrer\">Visit</a>\r\n                </p>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n      )}\r\n\r\n      {/* Game Creation / Update Form */}\r\n      <GameForm\r\n        fetchGames={fetchGames}\r\n        selectedGame={selectedGame}\r\n        setSelectedGame={setSelectedGame}\r\n      />\r\n\r\n      {/* List of All Games */}\r\n      <GameList\r\n        games={games}\r\n        fetchGames={fetchGames}\r\n        setSelectedGame={setSelectedGame}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}